{% extends "two_factor/_base.html" %}
{% load i18n %}

{% block two_factor_content %}
  <h1 class="text-2xl font-semibold">Backup Tokens</h1>
  <p class="text-sm text-gray-600 dark:text-gray-300">
    These codes can be used if your primary authentication device is unavailable.
  </p>

  {% if device.token_set.count %}
    <div class="mt-4 grid gap-2 rounded-xl border border-gray-200 p-4 text-sm dark:border-gray-800">
      {% for token in device.token_set.all %}
        <div class="rounded-lg bg-gray-100 px-3 py-2 font-mono text-xs dark:bg-neutral-900">{{ token.token }}</div>
      {% endfor %}
    </div>
    <p class="mt-3 text-sm text-gray-600 dark:text-gray-300">Print and store these tokens safely.</p>
  {% else %}
    <p class="mt-4 text-sm text-gray-600 dark:text-gray-300">No backup tokens generated yet.</p>
  {% endif %}

  <form method="post" class="mt-6 flex flex-wrap items-center gap-3">
    {% csrf_token %}
    {{ form.as_p }}
    <a href="{% url 'two_factor:profile'%}"
       class="secondary-action">{% trans "Back to Account Security" %}</a>
    <button class="btn" type="submit">{% trans "Generate Tokens" %}</button>
  </form>
{% endblock %}
